{"version":3,"sources":["utils/utils.js","components/Content/Ticket/TicketData/TicketData.jsx","components/Content/Ticket/Ticket.jsx","api/api.js","store/actionCreators.js","components/Content/Sort/Sort.jsx","components/common/Loader/Loader.jsx","components/Content/Content.jsx","components/Filter/FilterItem/FilterItem.jsx","components/Filter/Filter.jsx","assets/Logo.svg","components/Header/Header.jsx","App.jsx","reportWebVitals.js","store/ticketsReducer.js","store/store.jsx","index.js"],"names":["getDurationFromMinutes","minutes","days","Math","floor","hours","min","transplants","count","TicketData","props","className","origin","destination","date","format","add","duration","stops","length","join","Ticket","price","toString","replace","src","carrier","alt","segments","map","seg","i","instance","axios","baseURL","api","then","response","get","data","searchId","setLoadTicketsActionCreator","isLoading","type","setSortActionCreator","id","Sort","handleSort","e","setSort","target","dataset","sort","checked","data-id","onClick","label","Loader","xmlns","x","y","version","viewBox","xmlSpace","fill","d","attributeName","attributeType","dur","from","repeatCount","to","Content","this","getTickets","tickets","ticket","React","Component","connect","state","displayTickets","dispatch","slice","stop","FilterItem","onChange","changeFilter","sortId","filters","find","s","value","elem","Header","logo","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","store","createStore","action","newFilters","activeFilters","filter","filteredTickets","indexOf","a","includes","sortedTickets","b","reduce","sum","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.63348338.chunk.js","sourcesContent":["export const getDurationFromMinutes = (minutes) => {\r\n    const days = Math.floor(minutes / 60 / 24);\r\n    const hours = Math.floor(minutes / 60 % 24);\r\n    const min = minutes % 60;\r\n    return `${days>0 ? days + 'д ' : ''}${hours}ч ${min}м`;\r\n}\r\n\r\nexport const transplants = (count) => {\r\n    if(count === -1) {\r\n        return 'Все';\r\n    }\r\n    if(count === 0) {\r\n        return 'Без пересадок';\r\n    }\r\n    return `${count} пересадк${count === 1 ? 'а' : 'и'}`;\r\n}","import React from 'react'\r\nimport './TicketData.css';\r\nimport {\r\n  getDurationFromMinutes,\r\n  transplants\r\n} from '../../../../utils/utils'\r\nimport Moment from 'react-moment';\r\n\r\nconst TicketData = (props) => {\r\n  return (\r\n      <div className=\"ticket__data\">\r\n        <div className=\"ticket__item\">\r\n            <div className=\"ticket__top\">{ `${props.origin}-${props.destination}` }</div>\r\n            <div className=\"ticket__bottom\">\r\n              <Moment date={props.date} format=\"hh:mm\" />\r\n              &nbsp;-&nbsp;\r\n              <Moment date={props.date} add={{ minutes: props.duration }} format=\"hh:mm\" />\r\n            </div>\r\n        </div>\r\n        <div className=\"ticket__item\">\r\n            <div className=\"ticket__top\">в пути</div>\r\n            <div className=\"ticket__bottom length\">\r\n              { getDurationFromMinutes(props.duration) }\r\n            </div>\r\n        </div>\r\n        <div className=\"ticket__item\">\r\n            <div className=\"ticket__top\">\r\n              { transplants(props.stops.length) }\r\n            </div>\r\n            <div className=\"ticket__bottom\">\r\n              { props.stops.join(', ') }\r\n            </div>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default TicketData;\r\n","import React from 'react'\r\nimport './Ticket.css';\r\nimport TicketData from './TicketData/TicketData';\r\n\r\nconst Ticket = (props) => {\r\n  const price = props.price.toString().replace(/(\\d)(?=(\\d{3})+$)/g, '$1 ');\r\n\r\n  return (\r\n    <div className=\"ticket\">\r\n      <div className=\"ticket__header\">\r\n        <div className=\"ticket__price\">\r\n            {`${price} ₽`}\r\n        </div>\r\n        <div className=\"ticket__logo\">\r\n            <img src={`//pics.avs.io/99/36/${props.carrier}.png`} alt=\"\"/>\r\n        </div>\r\n      </div>\r\n      {\r\n        props.segments.map(\r\n          (seg, i) => <TicketData key={i} {...seg}/>\r\n        )\r\n      }   \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Ticket;\r\n","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://front-test.beta.aviasales.ru/'\r\n});\r\n\r\nexport default class api {\r\n    static getTickets() {\r\n        return axios.get('https://front-test.beta.aviasales.ru/search')\r\n        .then(response => instance.get(`tickets?searchId=${response.data.searchId}`));\r\n    }\r\n}\r\n","import api from '../api/api'\r\n\r\nexport const setTicketsActionCreator = (tickets) => ({\r\n    type: 'SET_TICKETS',\r\n    data: tickets\r\n});\r\n\r\nexport const setLoadTicketsActionCreator = (isLoading) => ({\r\n    type: 'SET_LOADING',\r\n    data: isLoading\r\n});\r\n\r\nexport const setStopTicketsActionCreator = (stop) => ({\r\n    type: 'SET_STOP',\r\n    data: stop\r\n});\r\n\r\nexport const changeFilterActionCreator = (id, value) => ({\r\n    type: 'CHANGE_FILTER',\r\n    data: {id, value}\r\n});\r\n\r\nexport const setSortActionCreator = (id) => ({\r\n    type: 'SET_SORT',\r\n    data: id\r\n});\r\n\r\nexport const getTicketsThunkCreator = () => {\r\n    return (dispatch) => {\r\n        dispatch(setLoadTicketsActionCreator(true));\r\n        api.getTickets().then(response => {\r\n            dispatch(setTicketsActionCreator(response.data.tickets.slice(0, 5)));\r\n            dispatch(setLoadTicketsActionCreator(false));\r\n            dispatch(setStopTicketsActionCreator(response.data.stop));\r\n            dispatch(setSortActionCreator(1));\r\n        });\r\n    }\r\n}","import React from 'react'\r\nimport './Sort.css';\r\n\r\nconst Sort = (props) => {\r\n    const handleSort = (e) => {\r\n        props.setSort(e.target.dataset.id);\r\n    }\r\n\r\n  return (\r\n    <div className=\"tabs\">\r\n        {\r\n            props.sort.map(\r\n                (e, i) => (\r\n                    <div key={i} className={`tab ${e.checked ? 'active' : null}`} \r\n                        data-id={e.id} onClick={handleSort}>\r\n                        {e.label}\r\n                    </div>\r\n                )\r\n            )\r\n        }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sort;\r\n","import React from 'react'\r\nimport './Loader.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <svg className=\"loader\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      x=\"0\"\r\n      y=\"0\"\r\n      version=\"1.1\"\r\n      viewBox=\"0 0 100 100\"\r\n      xmlSpace=\"preserve\"\r\n    >\r\n      <path\r\n        fill=\"#2196F3\"\r\n        d=\"M31.6 3.5C5.9 13.6-6.6 42.7 3.5 68.4c10.1 25.7 39.2 38.3 64.9 28.1l-3.1-7.9C44 97 19.9 86.6 11.5 65.3c-8.4-21.3 2-45.4 23.3-53.8l-3.2-8z\"\r\n      >\r\n        <animateTransform\r\n          attributeName=\"transform\"\r\n          attributeType=\"XML\"\r\n          dur=\"2s\"\r\n          from=\"0 50 50\"\r\n          repeatCount=\"indefinite\"\r\n          to=\"360 50 50\"\r\n          type=\"rotate\"\r\n        ></animateTransform>\r\n      </path>\r\n      <path\r\n        fill=\"#2196F3\"\r\n        d=\"M42.3 39.6c5.7-4.3 13.9-3.1 18.1 2.7 4.3 5.7 3.1 13.9-2.7 18.1l4.1 5.5c8.8-6.5 10.6-19 4.1-27.7-6.5-8.8-19-10.6-27.7-4.1l4.1 5.5z\"\r\n      >\r\n        <animateTransform\r\n          attributeName=\"transform\"\r\n          attributeType=\"XML\"\r\n          dur=\"1s\"\r\n          from=\"0 50 50\"\r\n          repeatCount=\"indefinite\"\r\n          to=\"-360 50 50\"\r\n          type=\"rotate\"\r\n        ></animateTransform>\r\n      </path>\r\n      <path\r\n        fill=\"#2196F3\"\r\n        d=\"M82 35.7C74.1 18 53.4 10.1 35.7 18S10.1 46.6 18 64.3l7.6-3.4c-6-13.5 0-29.3 13.5-35.3s29.3 0 35.3 13.5l7.6-3.4z\"\r\n      >\r\n        <animateTransform\r\n          attributeName=\"transform\"\r\n          attributeType=\"XML\"\r\n          dur=\"2s\"\r\n          from=\"0 50 50\"\r\n          repeatCount=\"indefinite\"\r\n          to=\"360 50 50\"\r\n          type=\"rotate\"\r\n        ></animateTransform>\r\n      </path>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import React from 'react'\r\nimport './Content.css';\r\nimport Ticket from './Ticket/Ticket';\r\nimport { setSortActionCreator, getTicketsThunkCreator } from '../../store/actionCreators'\r\nimport { connect } from 'react-redux'\r\nimport Sort from './Sort/Sort';\r\nimport Loader from '../common/Loader/Loader'\r\n\r\nclass Content extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getTickets();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"content__area\">\r\n        <div className=\"content\">\r\n          <Sort setSort={this.props.setSort} sort={this.props.sort}/>\r\n\r\n          {\r\n            this.props.isLoading ? <Loader /> :\r\n            this.props.tickets.length === 0 ? <p className=\"empty-list\">No tickets</p> :\r\n            this.props.tickets.map(\r\n              (ticket, i) => <Ticket key={i} {...ticket}/>\r\n            )\r\n          }\r\n        </div>\r\n      </div>   \r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = state => ({\r\n  sort: state.sort,\r\n  tickets: state.displayTickets,\r\n  isLoading: state.isLoading\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n  setSort: setSortActionCreator,\r\n  getTickets: getTicketsThunkCreator\r\n})(Content);\r\n","import React from 'react'\r\nimport './FilterItem.css';\r\nimport {transplants} from '../../../utils/utils'\r\n\r\nconst FilterItem = (props) => {\r\n  const handleChange = (e) => {\r\n    props.changeFilter(props.id, e.target.checked);\r\n    props.setSort(props.sortId);\r\n  }\r\n\r\n  return (\r\n    <label className=\"control control--checkbox\">\r\n      {transplants(props.count)}\r\n      <input type=\"checkbox\" checked={props.checked} onChange={handleChange}/>\r\n      <div className=\"control__indicator\"></div>\r\n    </label>\r\n  );\r\n}\r\n\r\nexport default FilterItem;\r\n","import React from 'react'\r\nimport './Filter.css';\r\nimport FilterItem from './FilterItem/FilterItem';\r\nimport { changeFilterActionCreator, setSortActionCreator } from '../../store/actionCreators'\r\nimport { connect } from 'react-redux'\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <div className=\"filter__area\">\r\n      <div className=\"filter\">\r\n        <h1 className=\"filter__title title\">Количество пересадок</h1>\r\n        <div className=\"filter__items\">\r\n            {\r\n                props.filters.map(\r\n                    elem => (\r\n                      <FilterItem key={elem.id} {...elem}\r\n                      changeFilter={props.changeFilter} \r\n                      setSort={props.setSort}\r\n                      sortId={props.sortId}/>\r\n                    )\r\n                )\r\n            }\r\n        </div>\r\n      </div>\r\n    </div>   \r\n  );\r\n}\r\n\r\nlet mapStateToProps = state => ({\r\n    filters: state.filters,\r\n    sortId: state.sort.find(s => s.checked).id\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n    changeFilter: changeFilterActionCreator,\r\n    setSort: setSortActionCreator\r\n})(Filter);\r\n","export default __webpack_public_path__ + \"static/media/Logo.e2d2505b.svg\";","import React from 'react'\r\nimport './Header.css';\r\nimport logo from '../../assets/Logo.svg'\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"\"/>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react'\nimport './App.css';\nimport Content from './components/Content/Content';\nimport Filter from './components/Filter/Filter';\nimport Header from './components/Header/Header';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Filter />\n      <Content />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","let initialState = {\r\n    tickets: [],\r\n    displayTickets: [],\r\n    stop: true,\r\n    isLoading: false,\r\n    filters: [\r\n        {\r\n            id: 1,\r\n            count: -1,\r\n            checked: true\r\n        },\r\n        {\r\n            id: 2,\r\n            count: 0,\r\n            checked: false\r\n        },\r\n        {\r\n            id: 3,\r\n            count: 1,\r\n            checked: false\r\n        },\r\n        {\r\n            id: 4,\r\n            count: 2,\r\n            checked: false\r\n        },\r\n        {\r\n            id: 5,\r\n            count: 3,\r\n            checked: false\r\n        }\r\n    ],\r\n    sort: [\r\n        {\r\n            id: 1,\r\n            label: \"самый дешевый\",\r\n            checked: true\r\n        },\r\n        {\r\n            id: 2,\r\n            label: \"самый быстрый\",\r\n            checked: false\r\n        }\r\n    ]\r\n}\r\n\r\nexport function ticketsReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_TICKETS':\r\n            return {\r\n                ...state,\r\n                tickets: action.data,\r\n                displayTickets: action.data\r\n            }\r\n        case 'SET_LOADING':\r\n            return {\r\n                ...state,\r\n                isLoading: action.data,\r\n                displayTickets: action.data ? [] : state.displayTickets\r\n            }\r\n        case 'SET_STOP':\r\n            return {\r\n                ...state,\r\n                stop: action.data\r\n            }\r\n        case 'CHANGE_FILTER':\r\n            const newFilters = state.filters.map(\r\n                e => e.id === action.data.id ? {\r\n                    ...e,\r\n                    checked: action.data.value\r\n                } : e\r\n            );\r\n\r\n            const activeFilters = newFilters.filter(filter => filter.checked).map(filter => filter.count);\r\n            let filteredTickets = state.tickets;\r\n\r\n            if(activeFilters.indexOf(-1) === -1) {\r\n                filteredTickets = state.tickets.filter(ticket => {\r\n                    return activeFilters.filter(a => (\r\n                        ticket.segments.map(s => s.stops.length).includes(a)\r\n                    )).length > 0\r\n                });\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                filters: newFilters,\r\n                displayTickets: filteredTickets\r\n            }\r\n        case 'SET_SORT':\r\n            let sortedTickets = [...state.displayTickets];\r\n            if(action.data == 1)\r\n                sortedTickets.sort((a, b) => a.price - b.price);\r\n            else if(action.data == 2)\r\n                sortedTickets.sort((a, b) => {\r\n                    const sumMinutes1 = a.segments.map(e => e.duration).reduce((sum, a) => sum + a, 0);\r\n                    const sumMinutes2 = b.segments.map(e => e.duration).reduce((sum, a) => sum + a, 0);\r\n                    return sumMinutes1 - sumMinutes2;\r\n                });\r\n            return {\r\n                ...state,\r\n                sort: state.sort.map(\r\n                    e => e.id == action.data ? {\r\n                        ...e,\r\n                        checked: true\r\n                    } : {\r\n                        ...e,\r\n                        checked: false\r\n                    }\r\n                ),\r\n                displayTickets: sortedTickets\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport {ticketsReducer} from './ticketsReducer'\r\n\r\nlet store = createStore(ticketsReducer, applyMiddleware(thunk));\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider}  from 'react-redux'\nimport store from './store/store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}